<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lit.dao.face.HostDao">


<insert id="insertOne" parameterType="lit.dto.Lodge">

<selectKey resultType="int" keyProperty="lodge_no" order="BEFORE">

SELECT lodge_seq.nextval from dual

</selectKey>




INSERT INTO Lodge(
LODGE_NO,
BUILDING_CASE_NO,
LODGE_CASE_NO,
LODGE_NAME,
LODGE_CAPACITY,
LODGE_ROOM,
LODGE_ADDR,
CONVENIENT_FACILITY,
CONVENIENT_AREA,
READY_TIME,
CHECK_IN_TIME,
AVAILABLE_TERM,
STAY_COST,
REGIT_DATE,
LODGE_ACTIVATION,
LATITUDE,
LONGITUDE,
MEM_NO
)
VALUES(
#{lodge_no},
#{building_case_no},
#{lodge_case_no},
#{lodge_name},
#{lodge_capacity},
#{lodge_room},
#{lodge_addr},
#{convenient_facility},
#{convenient_area},
0,
#{check_in_time},
0,
#{stay_cost},
sysdate,
0,
#{latitude},
#{longitude},
#{mem_no}


)



</insert>



<insert id="insertTwo" parameterType="lit.dto.Day_off">
 INSERT INTO Day_off(DAY_OFF_NO,LODGE_NO,DAY_OFF_DATE) 
 VALUES( DAY_OFF_SEQ.nextval, #{lodge_no }, #{day_off_date} )

</insert>

<delete id="deleteDayoff" parameterType="lit.dto.Day_off">
	DELETE FROM day_off
	WHERE lodge_no = #{lodge_no }
		AND day_off_date = #{day_off_date }
</delete>

<delete id="deleteAllDayoff" parameterType="int">
	DELETE FROM day_off
	WHERE lodge_no = #{lodge_no }
</delete>


<insert id="insertLodgeView" parameterType="lit.dto.Image">
	INSERT INTO image(image_no,lodge_no,origin_name,stored_name) VALUES(image_seq.nextval,#{lodge_no},#{origin_name},#{stored_name})


</insert>

</mapper>

